"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[624],{24624:(e,a,s)=>{s.r(a),s.d(a,{default:()=>j});var l=s(65043),t=s(35475),c=s(84337),i=s(546),n=s(60184),d=s(85051),r=s(37762),o=s(20557),m=s.n(o),x=s(11238),p=s(63179),h=s(70579);const j=()=>{const[e,a]=(0,l.useState)(""),[s,o]=(0,l.useState)([]),[j,N]=(0,l.useState)(""),[u,g]=(0,l.useState)([]),[v,f]=(0,l.useState)({}),[w,b]=(0,l.useState)({"":!0,"Call Id":!0,"Agent Name":!0,"Call Type":!0,"Call Date":!0,"Call Duration":!0,"Call Status":!0,"Next FollowUp":!0,Recording:!0});(0,l.useEffect)((()=>()=>{}),[]);const C=new Date,k=C.toLocaleDateString(),y=C.toLocaleTimeString(),S=[{title:"",dataIndex:"",render:(e,a,s)=>(0,h.jsx)("div",{className:"set-star rating-select "+(v[s]?"filled":""),onClick:()=>I(s),children:(0,h.jsx)("i",{className:"fa fa-star"})})},{title:"Call Id",dataIndex:"callId",key:"callId",sorter:(e,a)=>e.callId.localeCompare(a.callId)},{title:"Agent Name",dataIndex:"agentName",key:"agentName",sorter:(e,a)=>e.agentName.localeCompare(a.agentName)},{title:"Call Date",dataIndex:"callDate",key:"callDate",sorter:(e,a)=>e.callDate.localeCompare(a.callDate)},{title:"Call Duration",dataIndex:"callDuration",key:"callDuration",sorter:(e,a)=>e.callDuration.localeCompare(a.callDuration)},{title:"Call Status",dataIndex:"callStatus",key:"callStatus",sorter:(e,a)=>e.callStatus.localeCompare(a.callStatus)},{title:"Next FollowUp",dataIndex:"nextFollowUp",key:"nextFollowUp",sorter:(e,a)=>e.nextFollowUp.localeCompare(a.nextFollowUp)},{title:"Recording",dataIndex:"recordingLink",key:"recordingLink",render:e=>(0,h.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,h.jsx)("span",{style:{color:"#00918E"},className:"me-3",children:(0,h.jsx)(n.mSE,{})}),(0,h.jsx)("span",{style:{color:"blue"},children:(0,h.jsx)(d.a5A,{})})]})}],I=e=>{f((a=>({...a,[e]:!a[e]})))},_=c.eC.filter((e=>e.value.toLowerCase().includes(j.toLowerCase()))),D=p._.filter((a=>{const l=!(w["Call Id"]||w["Agent Name"])||a.callId.toLowerCase().includes(e.toLowerCase())||a.agentName.toLowerCase().includes(e.toLowerCase()),t=0===s.length||s.includes(a.callStatus.toLowerCase()),c=0===u.length||u.includes(a.agentName.toLowerCase());return l&&t&&c})),L=S.filter((e=>w[e.title]));return(0,h.jsx)("div",{id:"calls",children:(0,h.jsxs)("div",{className:"card",children:[(0,h.jsx)("div",{className:"card-header",children:(0,h.jsxs)("div",{className:"row align-items-center",children:[(0,h.jsx)("div",{className:"col-sm-12",children:(0,h.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,h.jsxs)("div",{className:"d-flex",children:[(0,h.jsxs)("div",{className:"icon-form mb-3  me-2 mb-sm-0",children:[(0,h.jsx)("span",{className:"form-icon",children:(0,h.jsx)("i",{className:"ti ti-search"})}),(0,h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Calls",onChange:e=>a(e.target.value)})]}),(0,h.jsxs)("div",{className:"form-sorts dropdown me-2",children:[(0,h.jsxs)(t.N_,{to:"","data-bs-toggle":"dropdown","data-bs-auto-close":"outside",children:[(0,h.jsx)("i",{className:"ti ti-filter-share"}),"Filter"]}),(0,h.jsx)("div",{className:"filter-dropdown-menu dropdown-menu  dropdown-menu-md-end p-3",children:(0,h.jsxs)("div",{className:"filter-set-view",children:[(0,h.jsx)("div",{className:"filter-set-head",children:(0,h.jsxs)("h4",{children:[(0,h.jsx)("i",{className:"ti ti-filter-share"}),"Filter"]})}),(0,h.jsxs)("div",{className:"accordion",id:"accordionExample",children:[(0,h.jsxs)("div",{className:"filter-set-content",children:[(0,h.jsx)("div",{className:"filter-set-content-head",children:(0,h.jsx)(t.N_,{to:"",className:"collapsed","data-bs-toggle":"collapse","data-bs-target":"#Status","aria-expanded":"false","aria-controls":"Status",children:"Call Status"})}),(0,h.jsx)("div",{className:"filter-set-contents accordion-collapse collapse",id:"Status","data-bs-parent":"#accordionExample",children:(0,h.jsx)("div",{className:"filter-content-list",children:(0,h.jsx)("ul",{children:c.Fd.map(((e,a)=>(0,h.jsx)("li",{children:(0,h.jsx)("div",{className:"filter-checks",children:(0,h.jsxs)("label",{className:"checkboxs",children:[(0,h.jsx)("input",{type:"checkbox",checked:s.includes(e.value.toLowerCase()),onChange:()=>(e=>{o((a=>a.includes(e)?a.filter((a=>a!==e)):[...a,e]))})(e.value.toLowerCase())}),(0,h.jsx)("span",{className:"checkmarks"}),e.value]})})},a)))})})})]}),(0,h.jsxs)("div",{className:"filter-set-content",children:[(0,h.jsx)("div",{className:"filter-set-content-head",children:(0,h.jsx)(t.N_,{to:"",className:"collapsed","data-bs-toggle":"collapse","data-bs-target":"#owner","aria-expanded":"false","aria-controls":"owner",children:"Employee"})}),(0,h.jsx)("div",{className:"filter-set-contents accordion-collapse collapse",id:"owner","data-bs-parent":"#accordionExample",children:(0,h.jsxs)("div",{className:"filter-content-list",children:[(0,h.jsxs)("div",{className:"mb-2 icon-form",children:[(0,h.jsx)("span",{className:"form-icon",children:(0,h.jsx)("i",{className:"ti ti-search"})}),(0,h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Owner",value:j,onChange:e=>N(e.target.value)})]}),(0,h.jsx)("ul",{children:_.map(((e,a)=>(0,h.jsx)("li",{children:(0,h.jsx)("div",{className:"filter-checks",children:(0,h.jsxs)("label",{className:"checkboxs",children:[(0,h.jsx)("input",{type:"checkbox",checked:u.includes(e.value.toLowerCase()),onChange:()=>{return a=e.value.toLowerCase(),void g((e=>e.includes(a)?e.filter((e=>e!==a)):[...e,a]));var a}}),(0,h.jsx)("span",{className:"checkmarks"}),e.value]})})},a)))})]})})]})]}),(0,h.jsx)("div",{className:"filter-reset-btns",children:(0,h.jsxs)("div",{className:"row",children:[(0,h.jsx)("div",{className:"col-6"}),(0,h.jsx)("div",{className:"col-6",children:(0,h.jsx)(t.N_,{to:"",className:"btn btn-primary",onClick:()=>{o([]),g([]),N("")},children:"Reset"})})]})})]})})]}),(0,h.jsxs)("div",{className:"dropdown",children:[(0,h.jsxs)(t.N_,{to:"",className:"btn bg-soft-purple text-purple","data-bs-toggle":"dropdown","data-bs-auto-close":"outside",children:[(0,h.jsx)("i",{className:"ti ti-columns-3 me-2"}),"Manage Columns"]}),(0,h.jsxs)("div",{className:"dropdown-menu  dropdown-menu-md-end dropdown-md p-3",children:[(0,h.jsx)("h4",{className:"mb-2 fw-semibold",children:"Want to manage datatables?"}),(0,h.jsx)("p",{className:"mb-3",children:"Please drag and drop your column to reorder your table and enable see option as you want."}),(0,h.jsx)("div",{className:"border-top pt-3",children:S.map(((e,a)=>{if("Action"!==e.title&&""!==e.title)return(0,h.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,h.jsxs)("p",{className:"mb-0 d-flex align-items-center",children:[(0,h.jsx)("i",{className:"ti ti-grip-vertical me-2"}),e.title]}),(0,h.jsxs)("div",{className:"status-toggle",children:[(0,h.jsx)("input",{type:"checkbox",id:e.title,className:"check",defaultChecked:!0,onClick:()=>{return a=e.title,void b((e=>({...e,[a]:!e[a]})));var a}}),(0,h.jsx)("label",{htmlFor:e.title,className:"checktoggle"})]})]},a)}))})]})]})]}),(0,h.jsx)("div",{className:"d-flex",children:(0,h.jsxs)("div",{className:"dropdown me-2",children:[(0,h.jsxs)(t.N_,{to:"",className:"dropdown-toggle","data-bs-toggle":"dropdown",children:[(0,h.jsx)("i",{className:"ti ti-package-export me-2"}),"Export"]}),(0,h.jsx)("div",{className:"dropdown-menu  dropdown-menu-end",children:(0,h.jsxs)("ul",{className:"mb-0",children:[(0,h.jsx)("li",{children:(0,h.jsxs)(t.N_,{to:"",className:"dropdown-item",onClick:()=>{const e=new r.jsPDF,a=S.filter((e=>w[e.title]&&"Recording"!==e.title)),s=a.map((e=>e.title)),l=D.map((e=>a.map((a=>e[a.dataIndex]||"")))),t="Calls Report",c=(e.internal.pageSize.getWidth()-e.getTextWidth(t))/2;e.setFontSize(15),e.text(t,c,20),e.setFontSize(10),e.text(`Exported on: ${k} at ${y}`,15,35),m()(e,{startY:40,head:[s],body:l}),e.save("Call-details.pdf")},children:[(0,h.jsx)("i",{className:"ti ti-file-type-pdf text-danger me-1"}),"Export as PDF"]})}),(0,h.jsx)("li",{children:(0,h.jsxs)(t.N_,{to:"",className:"dropdown-item",onClick:()=>{const e=x.Wp.book_new(),a=S.filter((e=>w[e.title]&&"Recording"!==e.title)),s=[a.map((e=>e.title)),...D.map((e=>a.map((a=>e[a.dataIndex]||""))))],l=x.Wp.aoa_to_sheet(s);x.Wp.book_append_sheet(e,l,"Calls"),(0,x._h)(e,"calls_report.xlsx")},children:[(0,h.jsx)("i",{className:"ti ti-file-type-xls text-green me-1"}),"Export as Excel"," "]})})]})})]})})]})}),(0,h.jsx)("div",{className:"col-sm-8",children:(0,h.jsx)("div",{className:"d-flex align-items-center flex-wrap row-gap-2 justify-content-sm-end"})})]})}),(0,h.jsx)("div",{className:"card-body",children:(0,h.jsx)("div",{className:"table-responsive custom-table",children:(0,h.jsx)(i.A,{dataSource:D,columns:L,rowKey:e=>e.key})})})]})})}}}]);
//# sourceMappingURL=624.6d118b0f.chunk.js.map