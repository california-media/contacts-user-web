{"version":3,"file":"static/js/624.6d118b0f.chunk.js","mappings":"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","sources":["feature-module/crm/customers/Calls.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { callStatus } from '../../../core/common/selectoption/selectoption';\r\nimport Table from \"../../../core/common/dataTable/index\";\r\nimport { FaCloudDownloadAlt } from 'react-icons/fa';\r\nimport { CiPlay1 } from 'react-icons/ci';\r\nimport { owner as companyEmployee } from '../../../core/common/selectoption/selectoption';\r\nimport { jsPDF } from \"jspdf\";\r\nimport autoTable from \"jspdf-autotable\";\r\nimport { utils, writeFile } from \"xlsx\";\r\nimport { callsData } from \"../../../core/data/json/calls\";\r\n\r\n\r\nconst Calls = () => {\r\n\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [selectedCallStatus, setSelectedCallStatus] = useState([]);\r\n  const [searchEmployeeInFilter, setSearchEmployeeInFilter] = useState(\"\");\r\n  const [selectedEmployee, setSelectedEmployee] = useState([]);\r\n  const [stars, setStars] = useState({});\r\n  const [columnVisibility, setColumnVisibility] = useState({\r\n    \"\": true,\r\n    \"Call Id\": true,\r\n    \"Agent Name\": true,\r\n    \"Call Type\": true,\r\n    \"Call Date\": true,\r\n    \"Call Duration\": true,\r\n    \"Call Status\": true,\r\n    \"Next FollowUp\": true,\r\n    \"Recording\": true,\r\n});\r\n\r\n  useEffect(() => {\r\n    return () => { }\r\n  }, [])\r\n\r\n\r\n  const currentDateAndTime = new Date();\r\n  const currentDate = currentDateAndTime.toLocaleDateString();\r\n  const currentTime = currentDateAndTime.toLocaleTimeString();\r\n\r\n  const columns = [\r\n    {\r\n        title: \"\",\r\n        dataIndex: \"\",\r\n        render: (text, record, index) => (\r\n            <div\r\n                className={`set-star rating-select ${stars[index] ? \"filled\" : \"\"}`}\r\n                onClick={() => handleStarToggle(index)}\r\n            >\r\n                <i className=\"fa fa-star\"></i>\r\n            </div>\r\n        ),\r\n    },\r\n    {\r\n        title: \"Call Id\",\r\n        dataIndex: \"callId\",\r\n        key: \"callId\",\r\n        sorter: (a, b) => a.callId.localeCompare(b.callId),\r\n    },\r\n    {\r\n        title: \"Agent Name\",\r\n        dataIndex: \"agentName\",\r\n        key: \"agentName\",\r\n        sorter: (a, b) => a.agentName.localeCompare(b.agentName),\r\n    },\r\n    {\r\n        title: \"Call Date\",\r\n        dataIndex: \"callDate\",\r\n        key: \"callDate\",\r\n        sorter: (a, b) => a.callDate.localeCompare(b.callDate),\r\n    },\r\n    {\r\n        title: \"Call Duration\",\r\n        dataIndex: \"callDuration\",\r\n        key: \"callDuration\",\r\n        sorter: (a, b) => a.callDuration.localeCompare(b.callDuration),\r\n    },\r\n    {\r\n        title: \"Call Status\",\r\n        dataIndex: \"callStatus\",\r\n        key: \"callStatus\",\r\n        sorter: (a, b) => a.callStatus.localeCompare(b.callStatus),\r\n    },\r\n    {\r\n        title: \"Next FollowUp\",\r\n        dataIndex: \"nextFollowUp\",\r\n        key: \"nextFollowUp\",\r\n        sorter: (a, b) => a.nextFollowUp.localeCompare(b.nextFollowUp),\r\n    },\r\n    {\r\n        title: \"Recording\",\r\n        dataIndex: \"recordingLink\",\r\n        key: \"recordingLink\",\r\n        render: (text) => (\r\n            <div className=\"d-flex justify-content-center align-items-center\">\r\n                <span style={{ color: '#00918E' }} className=\"me-3\">\r\n                    <FaCloudDownloadAlt />\r\n                </span>\r\n                <span style={{ color: \"blue\" }}>\r\n                    <CiPlay1 />\r\n                </span>\r\n            </div>\r\n        ),\r\n    },\r\n];\r\n\r\nconst handleStarToggle = (index) => {\r\n  setStars((prevStars) => ({\r\n      ...prevStars,\r\n      [index]: !prevStars[index],\r\n  }));\r\n};\r\n\r\n  const filterCallStatus = (callStatus) => {\r\n    setSelectedCallStatus((prevStatus) =>\r\n      prevStatus.includes(callStatus)\r\n        ? prevStatus.filter((status) => status !== callStatus)\r\n        : [...prevStatus, callStatus]\r\n    );\r\n  };\r\n\r\n  const filteredEmployees = companyEmployee.filter((employee) =>\r\n    employee.value.toLowerCase().includes(searchEmployeeInFilter.toLowerCase())\r\n  );\r\n\r\n  const filterLeadEmployee = (leadEmployee) => {\r\n    setSelectedEmployee((prevStatus) =>\r\n      prevStatus.includes(leadEmployee)\r\n        ? prevStatus.filter((employee) => employee !== leadEmployee)\r\n        : [...prevStatus, leadEmployee]\r\n    );\r\n  };\r\n\r\n  const resetFilters = () => {\r\n    setSelectedCallStatus([]);\r\n    setSelectedEmployee([]);\r\n    setSearchEmployeeInFilter('');\r\n};\r\n\r\nconst handleToggleColumnVisibility = (columnTitle) => {\r\n  setColumnVisibility((prevVisibility) => ({\r\n      ...prevVisibility,\r\n      [columnTitle]: !prevVisibility[columnTitle],\r\n  }));\r\n};\r\n\r\nconst exportPDF = () => {\r\n  const doc = new jsPDF();\r\n  const filteredColumns = columns.filter(\r\n      (col) =>\r\n          columnVisibility[col.title] &&\r\n          col.title !== \"Recording\"\r\n  );\r\n  const headers = filteredColumns.map((col) => col.title);\r\n  const data = filteredCallData.map((row) =>\r\n      filteredColumns.map((col) => row[col.dataIndex] || \"\")\r\n  );\r\n  const pageWidth = doc.internal.pageSize.getWidth();\r\n  const titleText = \"Calls Report\";\r\n  const titleWidth = doc.getTextWidth(titleText);\r\n  const titleX = (pageWidth - titleWidth) / 2;\r\n\r\n  doc.setFontSize(15);\r\n  doc.text(titleText, titleX, 20);\r\n\r\n  doc.setFontSize(10);\r\n  doc.text(`Exported on: ${currentDate} at ${currentTime}`, 15, 35);\r\n\r\n\r\n  autoTable(doc, {\r\n      startY: 40,\r\n      head: [headers],\r\n      body: data,\r\n  });\r\n  doc.save(\"Call-details.pdf\");\r\n};\r\n\r\nconst exportExcel = () => {\r\n  const wb = utils.book_new();\r\n  const filteredColumns = columns.filter((col) =>\r\n      columnVisibility[col.title] && col.title !== \"Recording\"\r\n  );\r\n\r\n  const wsData = [\r\n      filteredColumns.map((col) => col.title),\r\n      ...filteredCallData.map((row) =>\r\n          filteredColumns.map((col) => row[col.dataIndex] || \"\")\r\n      ),\r\n  ];\r\n\r\n  const ws = utils.aoa_to_sheet(wsData);\r\n\r\n  utils.book_append_sheet(wb, ws, \"Calls\");\r\n\r\n  writeFile(wb, \"calls_report.xlsx\");\r\n};\r\n\r\nconst filteredCallData = callsData.filter((calls) => {\r\n\r\n  const isAnySearchColumnVisible =\r\n      columnVisibility[\"Call Id\"] ||\r\n      columnVisibility[\"Agent Name\"];\r\n\r\n  const matchesSearchQuery =\r\n      !isAnySearchColumnVisible ||\r\n      (calls.callId.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n      (calls.agentName.toLowerCase().includes(searchQuery.toLowerCase()))\r\n  // (columnVisibility[\"Call Id\"] && calls.callId.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n  // (columnVisibility[\"Agent Name\"] && calls.agentName.toLowerCase().includes(searchQuery.toLowerCase()))\r\n\r\n\r\n  const matchesStatus =\r\n      selectedCallStatus.length === 0 ||\r\n      selectedCallStatus.includes(calls.callStatus.toLowerCase());\r\n\r\n\r\n  const matchesEmployee =\r\n      selectedEmployee.length === 0 ||\r\n      selectedEmployee.includes(calls.agentName.toLowerCase());\r\n\r\n\r\n  return matchesSearchQuery && matchesStatus && matchesEmployee\r\n\r\n});\r\n\r\nconst visibleColumns = columns.filter(\r\n  (column) => columnVisibility[column.title]\r\n);\r\n  return (\r\n    <div id=\"calls\">\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <div className=\"row align-items-center\">\r\n            <div className=\"col-sm-12\">\r\n              <div className=\"d-flex justify-content-between\">\r\n                <div className=\"d-flex\">\r\n                  <div className=\"icon-form mb-3  me-2 mb-sm-0\">\r\n                    <span className=\"form-icon\">\r\n                      <i className=\"ti ti-search\" />\r\n                    </span>\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control\"\r\n                      placeholder=\"Search Calls\"\r\n                      onChange={(text) =>\r\n                        setSearchQuery(text.target.value)\r\n                      }\r\n                    />\r\n                  </div>\r\n                  <div className=\"form-sorts dropdown me-2\">\r\n                    <Link\r\n                      to=\"\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      data-bs-auto-close=\"outside\"\r\n                    >\r\n                      <i className=\"ti ti-filter-share\" />\r\n                      Filter\r\n                    </Link>\r\n                    <div className=\"filter-dropdown-menu dropdown-menu  dropdown-menu-md-end p-3\">\r\n                      <div className=\"filter-set-view\">\r\n                        <div className=\"filter-set-head\">\r\n                          <h4>\r\n                            <i className=\"ti ti-filter-share\" />\r\n                            Filter\r\n                          </h4>\r\n                        </div>\r\n                        <div className=\"accordion\" id=\"accordionExample\">\r\n\r\n\r\n                          <div className=\"filter-set-content\">\r\n                            <div className=\"filter-set-content-head\">\r\n                              <Link\r\n                                to=\"\"\r\n                                className=\"collapsed\"\r\n                                data-bs-toggle=\"collapse\"\r\n                                data-bs-target=\"#Status\"\r\n                                aria-expanded=\"false\"\r\n                                aria-controls=\"Status\"\r\n                              >\r\n                                Call Status\r\n                              </Link>\r\n                            </div>\r\n                            <div\r\n                              className=\"filter-set-contents accordion-collapse collapse\"\r\n                              id=\"Status\"\r\n                              data-bs-parent=\"#accordionExample\"\r\n                            >\r\n                              <div className=\"filter-content-list\">\r\n                                <ul>\r\n                                  {callStatus.map((callStatus, index) => {\r\n                                    return (\r\n                                      <li\r\n                                        key={index}\r\n\r\n                                      >\r\n                                        <div className=\"filter-checks\" >\r\n                                          <label className=\"checkboxs\" >\r\n                                            <input\r\n                                              type=\"checkbox\"\r\n                                              checked={selectedCallStatus.includes(callStatus.value.toLowerCase())}\r\n                                              onChange={() => filterCallStatus(callStatus.value.toLowerCase())}\r\n                                            />\r\n                                            <span className=\"checkmarks\" />\r\n                                            {callStatus.value}\r\n                                          </label>\r\n                                        </div>\r\n                                      </li>\r\n                                    );\r\n                                  })}\r\n\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n\r\n                          <div className=\"filter-set-content\">\r\n                            <div className=\"filter-set-content-head\">\r\n                              <Link\r\n                                to=\"\"\r\n                                className=\"collapsed\"\r\n                                data-bs-toggle=\"collapse\"\r\n                                data-bs-target=\"#owner\"\r\n                                aria-expanded=\"false\"\r\n                                aria-controls=\"owner\"\r\n                              >\r\n                                Employee\r\n                              </Link>\r\n                            </div>\r\n                            <div\r\n                              className=\"filter-set-contents accordion-collapse collapse\"\r\n                              id=\"owner\"\r\n                              data-bs-parent=\"#accordionExample\"\r\n                            >\r\n                              <div className=\"filter-content-list\">\r\n                                <div className=\"mb-2 icon-form\">\r\n                                  <span className=\"form-icon\">\r\n                                    <i className=\"ti ti-search\" />\r\n                                  </span>\r\n                                  <input\r\n                                    type=\"text\"\r\n                                    className=\"form-control\"\r\n                                    placeholder=\"Search Owner\"\r\n                                    value={searchEmployeeInFilter}\r\n                                    onChange={(e) => setSearchEmployeeInFilter(e.target.value)}\r\n                                  />\r\n                                </div>\r\n                                <ul>\r\n                                  {\r\n                                    filteredEmployees.map((companyEmployee, index) => {\r\n                                      return (\r\n                                        <li key={index}>\r\n                                          <div className=\"filter-checks\">\r\n                                            <label className=\"checkboxs\">\r\n                                              <input\r\n                                                type=\"checkbox\"\r\n                                                checked={selectedEmployee.includes(companyEmployee.value.toLowerCase())}\r\n                                                onChange={() => filterLeadEmployee(companyEmployee.value.toLowerCase())}\r\n                                              />\r\n                                              <span className=\"checkmarks\" />\r\n                                              {companyEmployee.value}\r\n                                            </label>\r\n                                          </div>\r\n                                        </li>\r\n                                      )\r\n                                    })\r\n                                  }\r\n                                </ul>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"filter-reset-btns\">\r\n                          <div className=\"row\">\r\n                            <div className=\"col-6\">\r\n                            </div>\r\n                            <div className=\"col-6\">\r\n                              <Link to=\"\" className=\"btn btn-primary\" onClick={resetFilters}>\r\n                                Reset\r\n                              </Link>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"dropdown\">\r\n                    <Link\r\n                      to=\"\"\r\n                      className=\"btn bg-soft-purple text-purple\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                      data-bs-auto-close=\"outside\"\r\n                    >\r\n                      <i className=\"ti ti-columns-3 me-2\" />\r\n                      Manage Columns\r\n                    </Link>\r\n                    <div className=\"dropdown-menu  dropdown-menu-md-end dropdown-md p-3\">\r\n                      <h4 className=\"mb-2 fw-semibold\">\r\n                        Want to manage datatables?\r\n                      </h4>\r\n                      <p className=\"mb-3\">\r\n                        Please drag and drop your column to reorder your\r\n                        table and enable see option as you want.\r\n                      </p>\r\n                      <div className=\"border-top pt-3\">\r\n                        {columns.map((column, index) => {\r\n                          if (\r\n                            column.title === \"Action\" ||\r\n                            column.title === \"\"\r\n                          ) {\r\n                            return;\r\n                          }\r\n                          return (\r\n                            <div\r\n                              className=\"d-flex align-items-center justify-content-between mb-3\"\r\n                              key={index}\r\n                            >\r\n                              <p className=\"mb-0 d-flex align-items-center\">\r\n                                <i className=\"ti ti-grip-vertical me-2\" />\r\n                                {column.title}\r\n                              </p>\r\n                              <div\r\n                                className=\"status-toggle\"\r\n\r\n                              >\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  id={column.title}\r\n                                  className=\"check\"\r\n                                  defaultChecked={true}\r\n                                  onClick={() =>\r\n                                    handleToggleColumnVisibility(\r\n                                      column.title\r\n                                    )\r\n                                  }\r\n                                />\r\n                                <label\r\n                                  htmlFor={column.title}\r\n                                  className=\"checktoggle\"\r\n                                />\r\n                              </div>\r\n                            </div>\r\n                          );\r\n                        })}\r\n\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"d-flex\">\r\n                  <div className=\"dropdown me-2\">\r\n                    <Link\r\n                      to=\"\"\r\n                      className=\"dropdown-toggle\"\r\n                      data-bs-toggle=\"dropdown\"\r\n                    >\r\n                      <i className=\"ti ti-package-export me-2\" />\r\n                      Export\r\n                    </Link>\r\n                    <div className=\"dropdown-menu  dropdown-menu-end\">\r\n                      <ul className=\"mb-0\">\r\n                        <li>\r\n                          <Link\r\n                            to=\"\"\r\n                            className=\"dropdown-item\"\r\n                            onClick={exportPDF}\r\n                          >\r\n                            <i className=\"ti ti-file-type-pdf text-danger me-1\" />\r\n                            Export as PDF\r\n                          </Link>\r\n                        </li>\r\n                        <li>\r\n                          <Link\r\n                            to=\"\"\r\n                            className=\"dropdown-item\"\r\n                            onClick={exportExcel}\r\n                          >\r\n                            <i className=\"ti ti-file-type-xls text-green me-1\" />\r\n                            Export as Excel{\" \"}\r\n                          </Link>\r\n                        </li>\r\n                      </ul>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n              </div>\r\n            </div>\r\n            <div className=\"col-sm-8\">\r\n              <div className=\"d-flex align-items-center flex-wrap row-gap-2 justify-content-sm-end\">\r\n\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          <div className=\"table-responsive custom-table\">\r\n            <Table\r\n              dataSource={filteredCallData}\r\n              columns={visibleColumns}\r\n              rowKey={(record) => record.key}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Calls"],"names":["Calls","searchQuery","setSearchQuery","useState","selectedCallStatus","setSelectedCallStatus","searchEmployeeInFilter","setSearchEmployeeInFilter","selectedEmployee","setSelectedEmployee","stars","setStars","columnVisibility","setColumnVisibility","useEffect","currentDateAndTime","Date","currentDate","toLocaleDateString","currentTime","toLocaleTimeString","columns","title","dataIndex","render","text","record","index","_jsx","className","onClick","handleStarToggle","children","key","sorter","a","b","callId","localeCompare","agentName","callDate","callDuration","callStatus","nextFollowUp","_jsxs","style","color","FaCloudDownloadAlt","CiPlay1","prevStars","filteredEmployees","companyEmployee","filter","employee","value","toLowerCase","includes","filteredCallData","callsData","calls","matchesSearchQuery","matchesStatus","length","matchesEmployee","visibleColumns","column","id","type","placeholder","onChange","target","Link","to","map","checked","prevStatus","status","filterCallStatus","e","filterLeadEmployee","leadEmployee","resetFilters","defaultChecked","handleToggleColumnVisibility","columnTitle","prevVisibility","htmlFor","exportPDF","doc","jsPDF","filteredColumns","col","headers","data","row","titleText","titleX","internal","pageSize","getWidth","getTextWidth","setFontSize","autoTable","startY","head","body","save","exportExcel","wb","utils","book_new","wsData","ws","aoa_to_sheet","book_append_sheet","writeFile","Table","dataSource","rowKey"],"sourceRoot":""}