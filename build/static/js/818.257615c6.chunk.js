"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[818],{19818:(e,s,a)=>{a.r(s),a.d(s,{default:()=>y});var t=a(65043),l=a(35475),c=a(546),i=a(17962),d=a(60184),n=a(42559),r=a(37762),o=a(20557),m=a.n(o);const x=[{key:"1",ticketId:"#4987",subject:"Support for theme",assignedName:"Richard",createdOn:"25 Sep 2023, 12:12 pm",lastReply:"27 Sep 2023",priority:"Medium",status:"Resolved"},{key:"2",ticketId:"#4988",subject:"verify your email",assignedName:"Elizabeth",createdOn:"26 Sep 2023, 12:12 pm",lastReply:"30 Sep 2023",priority:"Low",status:"Closed"},{key:"3",ticketId:"#4989",subject:"Calling for help",assignedName:"Michel",createdOn:"27 Sep 2023, 12:12 pm",lastReply:"01 Oct 2023",priority:"High",status:"Pending"},{key:"4",ticketId:"#4990",subject:"Management",assignedName:"Esther",createdOn:"05 Oct 2023, 11:10 pm",lastReply:"10 Oct 2023",priority:"Medium",status:"Resolved"},{key:"5",ticketId:"#4991",subject:"Calling for help",assignedName:"Wilson",createdOn:"25 Sep 2023, 12:12 pm",lastReply:"27 Sep 2023",priority:"Low",status:"Open"},{key:"6",ticketId:"#4992",subject:"Support for theme",assignedName:"Walter",createdOn:"05 Oct 2023, 12:12 pm",lastReply:"07 Oct 2023",priority:"High",status:"Closed"}];var p=a(95753),j=a(2364),h=a(84897),N=a(19778),u=a(48850),b=a(41490),f=a(84337),v=a(70579);const g=()=>{const e=b.B,[s,a]=(0,t.useState)(new Date),[c,i]=(0,t.useState)(new Date),[d,n]=(0,t.useState)(!1),r=[...new Set(h.W.map((e=>e.lead_name)))].map((e=>({label:e,value:e})));return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"offcanvas offcanvas-end offcanvas-large",tabIndex:-1,id:"ticket_offcanvas",children:[(0,v.jsxs)("div",{className:"offcanvas-header border-bottom",children:[(0,v.jsx)("h5",{className:"fw-semibold",children:"Create New Ticket"}),(0,v.jsx)("button",{type:"button",className:"btn-close custom-btn-close border p-1 me-0 d-flex align-items-center justify-content-center rounded-circle","data-bs-dismiss":"offcanvas","aria-label":"Close",children:(0,v.jsx)("i",{className:"ti ti-x"})})]}),(0,v.jsx)("div",{className:"offcanvas-body",children:(0,v.jsxs)("form",{children:[(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Subject ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)("input",{type:"text",className:"form-control"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Name ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)("input",{type:"text",className:"form-control"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Email ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)("input",{type:"text",className:"form-control"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Assign to ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)(p.A,{classNamePrefix:"react-select",options:r,className:"js-example-placeholder-multiple select2 js-states",isMulti:!0,placeholder:"Select Contacts"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Priority ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)(j.Ay,{className:"select2",options:f.z5,placeholder:"Choose",classNamePrefix:"react-select"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Department ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)("input",{type:"text",className:"form-control"})]})}),(0,v.jsx)("div",{className:"col-md-6",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{className:"col-form-label",children:"CC"}),(0,v.jsx)("input",{type:"text",className:"form-control"})]})}),(0,v.jsx)("div",{className:"col-md-12",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsx)("label",{className:"col-form-label",children:"Tags"}),(0,v.jsx)(p.A,{classNamePrefix:"react-select",options:f.KO,className:"js-example-placeholder-multiple select2 js-states",isMulti:!0,placeholder:"Select Contacts"})]})}),(0,v.jsx)("div",{className:"col-lg-12",children:(0,v.jsxs)("div",{className:"mb-3",children:[(0,v.jsxs)("label",{className:"col-form-label",children:["Description ",(0,v.jsx)("span",{className:"text-danger",children:"*"})]}),(0,v.jsx)(N.Ay,{className:"summernote"})]})})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-end",children:[(0,v.jsx)("button",{type:"button","data-bs-dismiss":"offcanvas",className:"btn btn-light me-2",children:"Cancel"}),(0,v.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>n(!0),children:"Create"})]})]})})]}),(0,v.jsxs)(u.A,{show:d,onHide:()=>n(!1),children:[(0,v.jsx)("div",{className:"modal-header border-0 m-0 justify-content-end",children:(0,v.jsx)("button",{className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:()=>n(!1),children:(0,v.jsx)("i",{className:"ti ti-x"})})}),(0,v.jsx)("div",{className:"modal-body",children:(0,v.jsxs)("div",{className:"success-message text-center",children:[(0,v.jsx)("div",{className:"success-popup-icon bg-light-blue",children:(0,v.jsx)("i",{className:"ti ti-medal"})}),(0,v.jsx)("h3",{children:"Ticket Created Successfully!!!"}),(0,v.jsx)("p",{children:"View the details of ticket, created"}),(0,v.jsxs)("div",{className:"col-lg-12 text-center modal-btn",children:[(0,v.jsx)(l.N_,{to:"#",className:"btn btn-light","data-bs-dismiss":"modal",children:"Cancel"}),(0,v.jsx)(l.N_,{to:e.leads,className:"btn btn-primary",children:"View Details"})]})]})})]})]})},y=()=>{const[e,s]=(0,t.useState)(""),[a,o]=(0,t.useState)([]),[p,j]=(0,t.useState)(null),[h,N]=(0,t.useState)({}),[u,b]=(0,t.useState)(""),[f,y]=(0,t.useState)({"":!0,"Ticket Id":!0,Subject:!0,"Assigned to":!0,"Created On":!0,"Last Reply":!0,Priority:!0,"Ticket Status":!0});(0,t.useEffect)((()=>()=>{}),[]);const k=new Date,w=k.toLocaleDateString(),C=k.toLocaleTimeString(),S=[{title:"",dataIndex:"",render:(e,s,a)=>(0,v.jsx)("div",{className:"set-star rating-select "+(h[a]?"filled":""),onClick:()=>(e=>{N((s=>({...s,[e]:!s[e]})))})(a),children:(0,v.jsx)("i",{className:"fa fa-star"})})},{title:"Ticket Id",dataIndex:"ticketId",key:"ticketId",render:(e,s)=>(0,v.jsxs)("div",{className:"cell-content justify-content-between",children:[(0,v.jsx)("div",{state:{record:s},className:"lead-name title-name fw-bold",style:{color:"#2c5cc5",cursor:"pointer"},onClick:()=>{},children:e}),(0,v.jsx)(l.N_,{to:"#",className:"action-icon","data-bs-toggle":"dropdown","aria-expanded":"false",children:(0,v.jsx)(i.NNq,{})}),(0,v.jsxs)("div",{className:"dropdown-menu dropdown-menu-right",children:[(0,v.jsxs)("div",{className:"dropdown-item cursor-pointer",onClick:()=>{},children:[(0,v.jsx)(d.Ny1,{className:"text-blue"})," View"]}),(0,v.jsxs)("div",{className:"dropdown-item cursor-pointer","data-bs-toggle":"modal","data-bs-target":`#delete_${u}`,onClick:()=>{b("ticket")},children:[(0,v.jsx)("i",{className:"ti ti-trash text-danger"})," Delete"]})]})]}),sorter:(e,s)=>e.estimationsId.localeCompare(s.estimationsId)},{title:"Subject",dataIndex:"subject",key:"subject",sorter:(e,s)=>e.amount.localeCompare(s.amount)},{title:"Assigned to",dataIndex:"assignedName",key:"assignedName",sorter:(e,s)=>e.client.localeCompare(s.client)},{title:"Created On",dataIndex:"createdOn",key:"createdOn",sorter:(e,s)=>e.date.localeCompare(s.date)},{title:"Last Reply",dataIndex:"lastReply",key:"lastReply",sorter:(e,s)=>e.expiryDate.localeCompare(s.expiryDate)},{title:"Priority",dataIndex:"priority",key:"priority",sorter:(e,s)=>e.status.localeCompare(s.status)},{title:"Ticket Status",dataIndex:"status",key:"status",sorter:(e,s)=>e.status.localeCompare(s.status)}],I=Object.values(x.reduce(((e,s)=>(e[s.status]||(e[s.status]={value:s.status,label:s.status}),e)),{})),O=x.filter((s=>{const t=!(f["Ticket Id"]||f.Subject)||s.ticketId.toLowerCase().includes(e.toLowerCase())||s.subject.toLowerCase().includes(e.toLowerCase()),l=0===a.length||a.includes(s.status.toLowerCase());return t&&l})),_=S.filter((e=>f[e.title]));return(0,v.jsxs)("div",{id:"tickets",children:[(0,v.jsxs)("div",{className:"card",children:[(0,v.jsx)("div",{className:"card-header",children:(0,v.jsxs)("div",{className:"row align-items-center",children:[(0,v.jsx)("div",{className:"col-sm-12",children:(0,v.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,v.jsxs)("div",{className:"d-flex",children:[(0,v.jsxs)("div",{className:"icon-form mb-3  me-2 mb-sm-0",children:[(0,v.jsx)("span",{className:"form-icon",children:(0,v.jsx)("i",{className:"ti ti-search"})}),(0,v.jsx)("input",{type:"text",className:"form-control",placeholder:"Search Tickets",value:e,onChange:e=>s(e.target.value)})]}),(0,v.jsxs)("div",{className:"form-sorts dropdown me-2",children:[(0,v.jsxs)(l.N_,{to:"","data-bs-toggle":"dropdown","data-bs-auto-close":"outside",children:[(0,v.jsx)("i",{className:"ti ti-filter-share"}),"Filter"]}),(0,v.jsx)("div",{className:"filter-dropdown-menu dropdown-menu  dropdown-menu-md-end p-3",children:(0,v.jsxs)("div",{className:"filter-set-view",children:[(0,v.jsx)("div",{className:"filter-set-head",children:(0,v.jsxs)("h4",{children:[(0,v.jsx)("i",{className:"ti ti-filter-share"}),"Filter"]})}),(0,v.jsx)("div",{className:"accordion",id:"accordionExample",children:(0,v.jsxs)("div",{className:"filter-set-content",children:[(0,v.jsx)("div",{className:"filter-set-content-head",children:(0,v.jsx)(l.N_,{to:"",className:"collapsed","data-bs-toggle":"collapse","data-bs-target":"#Status","aria-expanded":"false","aria-controls":"Status",children:"Ticket Status"})}),(0,v.jsx)("div",{className:"filter-set-contents accordion-collapse collapse",id:"Status","data-bs-parent":"#accordionExample",children:(0,v.jsx)("div",{className:"filter-content-list",children:(0,v.jsx)("ul",{children:I.map(((e,s)=>(0,v.jsx)("li",{children:(0,v.jsx)("div",{className:"filter-checks",children:(0,v.jsxs)("label",{className:"checkboxs",children:[(0,v.jsx)("input",{type:"checkbox",checked:a.includes(e.value.toLowerCase()),onChange:()=>(e=>{o((s=>s.includes(e)?s.filter((s=>s!==e)):[...s,e]))})(e.value.toLowerCase())}),(0,v.jsx)("span",{className:"checkmarks"}),e.value]})})},s)))})})})]})}),(0,v.jsx)("div",{className:"filter-reset-btns",children:(0,v.jsxs)("div",{className:"row",children:[(0,v.jsx)("div",{className:"col-6"}),(0,v.jsx)("div",{className:"col-6",children:(0,v.jsx)(l.N_,{to:"",className:"btn btn-primary",onClick:()=>{o([]),s("")},children:"Reset"})})]})})]})})]}),(0,v.jsxs)("div",{className:"dropdown",children:[(0,v.jsxs)(l.N_,{to:"",className:"btn bg-soft-purple text-purple","data-bs-toggle":"dropdown","data-bs-auto-close":"outside",children:[(0,v.jsx)("i",{className:"ti ti-columns-3 me-2"}),"Manage Columns"]}),(0,v.jsxs)("div",{className:"dropdown-menu  dropdown-menu-md-end dropdown-md p-3",children:[(0,v.jsx)("h4",{className:"mb-2 fw-semibold",children:"Want to manage datatables?"}),(0,v.jsx)("p",{className:"mb-3",children:"Please drag and drop your column to reorder your table and enable see option as you want."}),(0,v.jsx)("div",{className:"border-top pt-3",children:S.map(((e,s)=>{if(""!==e.title)return(0,v.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-3",children:[(0,v.jsxs)("p",{className:"mb-0 d-flex align-items-center",children:[(0,v.jsx)("i",{className:"ti ti-grip-vertical me-2"}),e.title]}),(0,v.jsxs)("div",{className:"status-toggle",children:[(0,v.jsx)("input",{type:"checkbox",id:e.title,className:"check",defaultChecked:!0,onClick:()=>{return s=e.title,void y((e=>({...e,[s]:!e[s]})));var s}}),(0,v.jsx)("label",{htmlFor:e.title,className:"checktoggle"})]})]},s)}))})]})]})]}),(0,v.jsxs)("div",{className:"d-flex align-items-center",children:[(0,v.jsxs)("div",{className:"dropdown me-2",children:[(0,v.jsxs)(l.N_,{to:"",className:"dropdown-toggle","data-bs-toggle":"dropdown",children:[(0,v.jsx)("i",{className:"ti ti-package-export me-2"}),"Export"]}),(0,v.jsx)("div",{className:"dropdown-menu  dropdown-menu-end",children:(0,v.jsx)("ul",{className:"mb-0",children:(0,v.jsx)("li",{children:(0,v.jsxs)(l.N_,{to:"",className:"dropdown-item",onClick:()=>{const e=new r.jsPDF,s=S.filter((e=>f[e.title])),a=s.map((e=>e.title)),t=O.map((e=>s.map((s=>e[s.dataIndex]||"")))),l="Tickets Report",c=(e.internal.pageSize.getWidth()-e.getTextWidth(l))/2;e.setFontSize(15),e.text(l,c,20),e.setFontSize(10),e.text(`Exported on: ${w} at ${C}`,15,35),m()(e,{startY:40,head:[a],body:t}),e.save("Ticket-details.pdf")},children:[(0,v.jsx)("i",{className:"ti ti-file-type-pdf text-danger me-1"}),"Export as PDF"]})})})})]}),(0,v.jsxs)(l.N_,{to:"","data-bs-toggle":"offcanvas","data-bs-target":"#ticket_offcanvas",className:"link-purple fw-medium",onClick:()=>{},children:[(0,v.jsx)("i",{className:"ti ti-circle-plus me-1"}),"Add New"]})]})]})}),(0,v.jsx)("div",{className:"col-sm-8",children:(0,v.jsx)("div",{className:"d-flex align-items-center flex-wrap row-gap-2 justify-content-sm-end"})})]})}),(0,v.jsx)("div",{className:"card-body",children:(0,v.jsx)("div",{className:"table-responsive custom-table",children:(0,v.jsx)(c.A,{dataSource:O,columns:_,rowKey:e=>e.key})})})]}),(0,v.jsx)(g,{}),(0,v.jsx)(n.A,{text:u,onDelete:()=>{var e;e=u,console.log(`Deleting ${p} ${e}...`)},onCancel:()=>{b("")}})]})}}}]);
//# sourceMappingURL=818.257615c6.chunk.js.map